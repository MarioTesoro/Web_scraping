var Timer=function(e,t){var i,o,r=t;this.pause=function(){window.clearTimeout(i),r-=Date.now()-o},this.resume=function(){o=Date.now(),window.clearTimeout(i),i=window.setTimeout(e,r)},this.resume()},PlayerWidgetCommonMethods=function(){"use strict";var t=!1,i="";return{pingVCS:function(){if(!i)throw new Error("vcServerURL not set.");var e;t||(t=!0,(e=new XMLHttpRequest).open("GET",i),e.send())},getKeys:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},prettyTime:function(e){var t=parseInt(e,10),i=Math.floor(t/3600),e=Math.floor((t-3600*i)/60),t=t-3600*i-60*e;return i<10&&(i="0"+i),e<10&&(e="0"+e),t<10&&(t="0"+t),(0<parseInt(i)?i+":":"")+e+":"+t},hasVcServerPinged:function(){return t},getVcServerUrl:function(){return i},setVcServerUrl:function(e){i=e}}}(),VueVideoCustomElement=function(){"use strict";return{initializePlayer:function(){function e(){return t.apply(this,arguments)}var t,i;function o(){return i.apply(this,arguments)}Vue.customElement("video-element",{props:["platform","platformFallback","uniqueId","dataAttributes"],data:function(){return{premiumFlag:"undefined"!=typeof premiumFlag&&premiumFlag,videoPlaceholder:document.getElementById("videoPlayerPlaceholder"),urlParams:this.getUrlVars(),hasPingedVcServer:!1,isVideo3x4:!1,isPrerollPlaying:!1,prePlayerInitTime:null,isPlaylist:"undefined"!=typeof VIDEO_SHOW&&VIDEO_SHOW.isPlaylist,ccExperimentValue:"",ccExperimentEnabled:!1,isPurchaseFlowOpen:!1,playerConfig:null,problemStatusResent:!1}},methods:{getUrlVars:function(){var o={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,t,i){o[t]=i});return o},chargePbBlock:function(){var e=document.getElementById("pb_template");e&&document.querySelector(".mgp_container").appendChild(e)},togglePlayerSizeHD:function(){/chrome\/([6][9])\./.test(navigator.userAgent.toLowerCase())&&setTimeout(function(){page_params.chrome_69_bandaid={iframes:[]},$j("iframe").each(function(){page_params.chrome_69_bandaid.iframes.push({element:$j(this),h:$j(this).height()})});for(var e=0;e<page_params.chrome_69_bandaid.iframes.length;e++){var t=page_params.chrome_69_bandaid.iframes[e];t.element.height(t.h+1),t.element.height(),t.element.height(t.h)}},300);var e=document.querySelector(".mainPlayerDiv"),t=document.querySelector(".playerFlvContainer"),i=document.querySelector(".js-underplayerAd"),o=document.querySelector(".js-relatedVideos"),r=document.querySelector(".js-recommendedVideos"),n=document.querySelector(".js-commentReplacement"),a=document.getElementById("under-player-playlists"),l=document.getElementById("hd-leftColVideoPage"),s=document.querySelector(".section-relateds"),d=document.querySelector(".section-p2v"),l=document.getElementById("hd-leftColVideoPage"),u=document.querySelector(".nextVideoSection"),c=document.getElementById("hd-rightColVideoPage"),l=c||l.parentNode.children[1],u=(u=[e,t,i,o,r,n,a,l,d,s,document.querySelector(".show-more-btn"),u]).filter(function(e){return null!=e});MG_Utils.hasClass(e,"original")?(MG_Utils.addClassMultiple(u,"wide"),MG_Utils.removeClassMultiple(u,"original")):(MG_Utils.addClassMultiple(u,"original"),MG_Utils.removeClassMultiple(u,"wide")),l&&MG_Utils.hasClass(l,"videoSize3x4")&&(l&&MG_Utils.hasClass(l,"wide")?this.resizeVerticalVideo():l.style.marginTop="0px"),l&&VIDEO_SHOW.isTrailerVideo&&VIDEO_SHOW.canShowAds&&VIDEO_SHOW.trailerGating&&MG_Utils.addClass(l,"trailerVideoAd")},resizeVerticalVideo:function(){var e=document.querySelector(".mainPlayerDiv"),t=document.getElementById("hd-leftColVideoPage"),i=document.getElementById("hd-rightColVideoPage"),o=i||t.parentNode.children[1],r=e?e.querySelector("video"):null,n=0,i=window.innerHeight-200,t=t&&t.querySelector(".js-underplayerAd"),t=t?t.offsetHeight+20:0;r&&o&&(e.classList.add("videoSize3x4"),o.classList.add("videoSize3x4"),(n=r.videoWidth>r.videoHeight?r.videoWidth/r.videoHeight:r.videoHeight/r.videoWidth)&&(t=i<(n=540*n)?i+t:n,e.style.width="540px",e.style.height=n+"px",e.style.maxHeight=i+"px",MG_Utils.hasClass(o,"wide")&&(o.style.marginTop=t+"px")))},destroyPlayer:function(t){MG_Utils.addEventHandler(window,"beforeunload",function(e){MGP.destroyPlayer(t)})},disablePopOnControls:function(){var e=document.querySelector(".mhp1138_controlBar"),t=document.querySelector(".mhp1138_sound");e&&t&&(MG_Utils.addClass(e,"js-pop"),MG_Utils.addClass(t,"js-pop"))},triggerFullScreenDisplay:function(e){e=document.getElementById(e);e&&MG_Utils.addClass(e,"fullscreen")},getUpsellFlag:function(e){return this.isVrVideo?e&&!this.isPremium?[2160]:[]:e?[1080]:[]},getUpsellLinkcode:function(e){return!!e&&"Player"+e+"pUpsell"},isAdBlockOn:function(){return"desktop"==this.platform&&void 0!==page_params.holiday_promo||"desktop"!=this.platform},showPreroll:function(e){return void 0!==e&&this.isAdBlockOn()&&!this.isVrVideo},nextVideoBtnConfig:function(e){if(0===Object.keys(e).length)return{};var t={thumb:e.thumb,video:e.video,duration:e.duration,title:e.title,isHD:e.isHD,nextUrl:e.nextUrl};return"mobile"!=this.platform||this.isPlaylist||(t.mobile=!0,t.chanel=e.channelTitle||"",t.timeout=5,this.autoNextEnabled=!0),"tablet"!==this.platformFallback||this.isPlaylist||(t.desktop=!0),e.isJoinPageEntry&&"undefined"!=typeof VIDEO_SHOW&&MG_Utils.ajaxCall({type:"GET",url:VIDEO_SHOW.getBuildJoinPageUrl,data:{entry_code:"VidPg-premVid-default",segment:VIDEO_SHOW.segment,viewkey:e.vkey},dataType:"json",success:function(e){"PASS"==e.success&&e.url&&(t.nextUrl=e.url)}}),t},buildPrerollObj:function(e){var i,o=[];return[].forEach.call(e.campaigns,function(e){var t={};e.clickableAreasByPlatform&&(t=e.clickableAreasByPlatform.pc||{video:!0,link:!0}),i={xml:e.vastXml,vastSkipDelay:!1,rollSettings:{onNth:e.on_nth,skipDelay:e.skip_delay,siteName:"Pornhub",forgetUserAfter:e.forgetUserAfter,campaignName:e.campaign_name,skippable:e.skippable,clickableAreas:t,campaignWeight:e.percentChance}},o.push(i)}),o},registerPlayerEvents:function(o){var r=this,n=o.vcServerUrl||null;return{collapsePlayer:function(){r.togglePlayerSizeHD()},downloadsFlashMessage:function(e){document.getElementById("noPlayerMsg").removeAttribute("style")},expandPlayer:function(){r.togglePlayerSizeHD()},onSeek:function(){"undefined"!=typeof htTrack&&htTrack.ptrack()},onReady:function(e,t,i){"function"==typeof initVrPlayer&&initVrPlayer(),r.isShowPage&&r.chargePbBlock(),r.disablePopOnControls(),r.autoNextEnabled&&r.attachAutoNextCustomEvents(e,t,i),clearTimeout(r.playerLoadingTimer),r.disablePlaceholderImage()},onFullscreen:function(e){r.isShowPage&&r.triggerFullScreenDisplay(e)},onQualityUpsell:function(e,t,i){i=i.resolution||i.res,i=r.getUpsellLinkcode(i);i&&("mobile"==r.platform?triggerGatewayModal(t,o.skipGatewayModal,i,phOrientationSegment):triggerUpselllGatewayModal(i,phOrientationSegment)),MGP.players[e].fullscreen().exit()},showPauseRoll:function(){"undefined"!=typeof trailerPauseRoleInstance?trailerPauseRoleInstance.openAdBlock():"undefined"!=typeof Pb_block&&Pb_block.openAdBlock()},showPostRoll:function(){var e=MG_Utils.getCookie("autoplay");"undefined"!=typeof Pb_block&&(Pb_block.params.showBlock=!0,Pb_block.openAdBlock()),e&&"on"===e&&"undefined"!=typeof VueUpNextVideo&&VueUpNextVideo.showOverlay()},showPreRoll:function(){r.isPrerollPlaying=!0;var e,t=t||("undefined"!=typeof page_extra_params?page_extra_params:null);if(t&&(t.prerollFired=!0,r.isShowPage))for(var i in t.zoneDetails)t.zoneDetails.hasOwnProperty(i)&&(e=t.zoneDetails[i],i=document.getElementById(e.frameId),void 0!==e.preroll_change_url&&i&&i.setAttribute("src",e.preroll_change_url))},hidePreRoll:function(){r.isPrerollPlaying=!1,r.setupVerticalLogic()},onPlaylistCountdown:function(e,t,i){var o=document.querySelector(".video-box-playlist");"undefined"!=typeof WATCHPAGE_PLAYLISTS&&1==parseInt(WATCHPAGE_PLAYLISTS.playlistCheck)&&(o?playlist_countdown(i.count,o):playlist_countdown(i.count))},verticalPlayer:function(e,t,i){"9x16"==i.text&&(r.isVideo3x4=!0)},horizontalPlayer:function(e,t,i){"4x3"==i.text&&(r.isVideo3x4=!1)},onPlay:function(e,t,i){e=document.getElementById(e),e=e&&e.querySelector("video").currentTime,Math.floor(e);"undefined"!=typeof VIDEO_SHOW&&VIDEO_SHOW.isQrCode&&VIDEO_SHOW.feelIsUserConnected&&$feel.subs.play(e),r.setupVerticalLogic(),r.vcsTimer?r.vcsTimer.resume():(PlayerWidgetCommonMethods.setVcServerUrl(n),r.vcsTimer=new Timer(PlayerWidgetCommonMethods.pingVCS,5e3)),r.hidePauseRoll()},onEnd:function(e,t,i){e=void 0!==MGP.players[e].autoNext?MGP.players[e].autoNext():null;e&&r.isPurchaseFlowOpen&&e.disable()},onPause:function(){"undefined"!=typeof VIDEO_SHOW&&VIDEO_SHOW.isQrCode&&VIDEO_SHOW.feelIsUserConnected&&$feel.subs.stop(),r.vcsTimer&&r.vcsTimer.pause()},onTimeChange:function(e){var t=document.getElementById(e),i=t&&t.querySelector("video").currentTime,o=t&&t.querySelector("video").duration,e=document.querySelector(".countdown"),t=Math.floor(i);"undefined"!=typeof VIDEO_SHOW&&VIDEO_SHOW.isQrCode&&VIDEO_SHOW.feelIsUserConnected&&$feel.subs.timeupdate(i),5<o-t&&("undefined"!=typeof VIDEO_SHOW&&(VIDEO_SHOW.delay=5),e&&MG_Utils.addClass(e,"displayNone")),"undefined"!=typeof VueUpNextVideo&&VueUpNextVideo.detectTime(t)}}},getPlayerConfig:function(e,t){var i=void 0!==t.tubesCmsPrerollConfigType?t.tubesCmsPrerollConfigType:null,o="undefined"!=typeof VIDEO_SHOW?VIDEO_SHOW.hideEmbedOption:null,e={seekParams:{mp4:t.mp4_seek,flv:"fv"},deviceType:this.platform,autoPlayVideo:{enabler:!1},quickSetup:"pornhub",locale:t.language,autoplay:!(!this.isShowPage||!this.isUtahDomain||"desktop"!=this.platform)&&t.autoplay,startOffset:this.urlParams.t||0,viewedRequestTimeout:60,viewedRequestURL:t.viewedRequestURL,hotspots:{data:t.hotspots||[]},nextVideo:this.parseData.showNextVideoOption?this.nextVideoBtnConfig(t.nextVideo):{},mainRoll:{adaptive:{prebufferGoal:40},actionTags:t.actionTags,mediaPriority:t.mediaPriority,mediaDefinition:t.mediaDefinitions,poster:t.image_url,thumbs:{urlPattern:t.thumbs.urlPattern,type:"normal",samplingFrequency:t.thumbs.samplingFrequency,thumbWidth:t.thumbs.thumbWidth,thumbHeight:t.thumbs.thumbHeight,cdnType:t.thumbs.cdnType},videoUrl:t.link_url,duration:t.video_duration,title:t.video_title,videoUnavailable:!1,videoUnavailableMessage:"",qualityUpsell:this.getUpsellFlag(t.display_hd_upsell),closedCaptions:t.closedCaptionsFile,vertical:"true"==t.isVertical||!0===t.isVertical},hlsConfig:{maxInitialBufferLength:t.maxInitialBufferLength,maxBufferLength:this.isPremium?60:20,maxMaxBufferLength:this.isPremium?60:20},version:MGP.appVersion,type:this.platform,priority:"hls",menu:{relatedUrl:t.related_url,showOnPause:!1},features:{ccVisible:this.ccExperimentEnabled,ccMenu:this.ccExperimentEnabled,themeColor:"#f6921e",embedCode:o?"":t.embedCode,autoplay:!(!this.isShowPage||!this.isUtahDomain||"desktop"!=this.platform)&&t.autoplay,showHotspots:!0,chromecast:void 0===t.chromecast||t.chromecast,autoFullscreen:void 0===t.autoFullscreen||t.autoFullscreen,cinema:!!e.getAttribute("data-enlarge"),ignorePreferences:!this.isShowPage||!this.isUtahDomain,iosAutoFullscreen:"mobile"==this.platform,options:!0,showAutoplayOption:!!e.getAttribute("data-showautoplayoption"),hideControlsTimeout:2,speed:!0,nextVideo:!0,share:!1,topBar:!1,volume:!0,seekPreviewBlur:!1,chromecastSkin:!1},flashSettings:{postRollUrl:this.isPremium?"":t.postroll_url,pauseRollUrl:this.isPremium?"":t.pauseroll_url,htmlPauseRoll:this.isPremium?"false":"true",htmlPostRoll:this.isPremium?"false":"true",extraFlashvars:{oldFlash:{hidePostPauseRoll:this.isPremium},fourPlay:{tracking:[{reportType:"qosevents",rollType:"video",rollTiming:"main",cdn:t.cdn,startLagThreshold:t.startLagThreshold,outBufferLagThreshold:t.outBufferLagThreshold}]}}},eventTracking:{cdn:t.cdn,isp:t.isp,geo:t.geo,enabled:!0,videoId:this.getVideoKey},events:this.registerPlayerEvents.call(this,t),vast:"old"==i&&this.showPreroll(t.preroll)?this.buildPrerollObj(t.preroll):null,preroll:"new"!=i&&void 0!==t.preroll||!this.showPreroll(t.prerollGlobalConfig)?null:t.prerollGlobalConfig,isVideoPage:this.isShowPage,vrProps:this.getVrProps,isVr:this.isVrVideo};return"undefined"==typeof Etahub||(i=Etahub.getCookie(this.getVideoKey))&&(i=Etahub.translate(i),e.eventTracking.customData=i),"mobile"==this.platform&&(e.hlsConfig.autoLevelCapping=720),1==(null==t?void 0:t.captionType)&&(e.mainRoll.closedCaptions={en:{url:t.closedCaptionsFile,label:"English (auto-generated)"}}),e},loadPlayer:function(){var e,t,i,o;playerObjList.hasOwnProperty(this.uniqueId)&&(o=playerObjList[this.uniqueId].flashvars.embedId,e=window["flashvars_"+o],t="playerDiv_"+o,i=window[t],o=document.getElementById(t),this.playerConfig=JSON.parse(JSON.stringify(e)),void 0!==e&&void 0!==i&&"undefined"!=typeof MGP&&(i.getAttribute("data-processed")||(i.setAttribute("data-processed",1),this.isSafari5&&o&&o.classList.add("unsupported-safari"),e.closedCaptionsFile&&this.setCcExperimentValues(),MGP.createPlayer(t,this.getPlayerConfig.call(this,i,e))),"desktop"===this.platform&&this.destroyPlayer(t)))},getProbability:function(e){return Math.random()<e},setCcExperimentValues:function(){var e;"undefined"!=typeof PH_Storage&&((e=(e=PH_Storage.getItem("mhp1138_player"))?e.closedCaptions:null)?(this.ccExperimentEnabled=e.visible,this.ccExperimentValue=e.visible?"forcedClosedCaptionsOn":"forcedClosedCaptionsOff"):(this.ccExperimentEnabled=!0,this.ccExperimentValue="forcedClosedCaptionsOn"))},attachAutoNextCustomEvents:function(e,t,i){var o=void 0!==MGP.players[e].autoNext?MGP.players[e].autoNext():null,r=this;o&&(document.addEventListener("click",function(e){var t=e.target,e=MG_Utils.hasClass(t,"js-paidDownload")||MG_Utils.closest(t,".js-paidDownload"),t=t?MG_Utils.hasClass(t,"purchase_flow_close"):null;e&&(r.isPurchaseFlowOpen=!0),t&&(r.isPurchaseFlowOpen=!1),o.hide()}),window.addEventListener("blur",function(e){o.hide()}))},setupVerticalLogic:function(){var e=this;this.isVideo3x4&&!this.isPrerollPlaying&&"desktop"==this.platform&&(this.resizeVerticalVideo(),window.addEventListener("resize",function(){e.resizeVerticalVideo()}),this.isVideo3x4=!1)},disablePlaceholderImage:function(){var e=this.$el.parentElement.parentElement.querySelector(".videoElementPoster");e&&MG_Utils.addClass(e,"displayNone")},hidePauseRoll:function(){"undefined"!=typeof trailerPauseRoleInstance?trailerPauseRoleInstance.closeAdBlock():"undefined"!=typeof Pb_block&&Pb_block.closeAdBlock()}},computed:{parseData:function(){return this.dataAttributes?JSON.parse(this.dataAttributes):null},playerEnvironment:(i=function(){return"undefined"!=typeof playerEnvironment?playerEnvironment:""},o.toString=function(){return i.toString()},o),getVideoKey:function(){return"undefined"!=typeof VIDEO_SHOW?VIDEO_SHOW.vkey:""},isSafari5:function(){return!!navigator.userAgent.match(" Safari/")&&!navigator.userAgent.match(" Chrom")&&!!navigator.userAgent.match(" Version/5.")},isPremium:function(){return 1==this.premiumFlag},isShowPage:(t=function(){return"undefined"!=typeof isShowPage},e.toString=function(){return t.toString()},e),isUtahDomain:function(){return"undefined"==typeof isUtah||!isUtah},isVrVideo:function(){return"undefined"!=typeof isVr&&isVr},getVrProps:function(){return"undefined"!=typeof vrProps?vrProps:""}},mounted:function(){this.videoPlaceholder&&(this.videoPlaceholder.style.display="block");var e=this;this.prePlayerInitTime=(new Date).getTime(),setTimeout(function(){e.loadPlayer()},0)},template:'<div \n                    :id="uniqueId" \n                    class="playerFlvContainer"\n                    :data-enlarge="parseData ? parseData.showEnlargeButton : null"\n                    :data-showautoplayoption="parseData ? parseData.showAutoplayOption : null"\n                    :data-share="parseData ? parseData.showShare : null"\n                    :data-currenttime="0"\n                    :data-shownextvideooption="parseData ? parseData.showNextVideoOption : null"\n                >\n                    <noscript>\n                        <video style="width:100%; height:100%;" controls="controls" autobuffer="autobuffer" class="player-html5" preload="metadata"><source src="" type="video/mp4"></video>\n                    </noscript>\n                    <div id="noPlayerMsg" style="display:none">\n                        <a href="http://get.adobe.com/flashplayer/" rel=nofollow alt="Porn Video flash Player" border="0"><img src="" width="608" height="481" /></a>\n                    </div>\n                </div>'})}}}(),VrFormatFinder=function(){"use strict";return{setVrFormat:function(e){var t,i;e&&(i=function(e,t,i){var o=new RegExp("([?&])"+e+"=.*?(&|#|$)","i");if(void 0===t)return i.match(o)?i.replace(o,"$1$2"):i;if(i.match(o))return i.replace(o,"$1"+e+"="+t+"$2");var r="";return-1!==i.indexOf("#")&&(r=i.replace(/.*#/,"#"),i=i.replace(/#.*/,"")),o=-1!==i.indexOf("?")?"&":"?",i+o+e+"="+t+r}("format",t=function(e,t){var i;switch(t){case 1:i=2==e?"STEREO_360_LR":"STEREO_180_LR";break;case 2:i=2==e?"STEREO_360_TB":"STEREO_180_TB";break;case 3:i=2==e?"STEREO_360_LR":"STEREO_FLAT_LR";break;case 4:i=2==e?"STEREO_360_TB":"STEREO_FLAT_TB";break;case"MONO":i=1==e?"MONO_FLAT":"MONO_360";break;default:i="MONO_360"}return i}(vrProps.projection,vrProps.stereoType),e.getAttribute("cors-fallback-url")),e.setAttribute("format",t),e.setAttribute("cors-fallback-url",i))},pingVcsHandler:function(e){var t,i;e&&(t=PlayerWidgetCommonMethods.getKeys(playerObjList),t=playerObjList[t[0]].flashvars.embedId,i=window["flashvars_"+t].vcServerUrl||null,e.addEventListener("play",function(e){PlayerWidgetCommonMethods.setVcServerUrl(i),PlayerWidgetCommonMethods.pingVCS}))}}}();!function(){var e=document.getElementById("videoPlayerPlaceholder"),t=document.querySelector("dl8-video");"undefined"!=typeof VIDEO_SHOW&&VIDEO_SHOW.isVr&&t?(e&&(e.style.display="block"),VrFormatFinder.setVrFormat(t),VIDEO_SHOW.isPremium||VrFormatFinder.pingVcsHandler(t)):"undefined"!=typeof Vue&&VueVideoCustomElement.initializePlayer()}();