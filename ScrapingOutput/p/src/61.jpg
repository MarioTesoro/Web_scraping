function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var CrowdSource_AC=function(){"use strict";var u=this;u.listCount=0,u.rtime=new Date,u.timeout=!1,u.delta=500,u.data={},u.init=function(t){u.params=t;t=u.params.modal?u.params.modal.querySelector("#"+u.params.inputID):document.getElementById(u.params.inputID);t.parentNode.appendChild(u.buildElement("ul",{id:"list"+u.params.inputID,class:"acList"})),t.addEventListener("keyup",u.inputKeyUp,!1)},u.getAutocompleteData=function(){if($j.ajax({url:u.params.ajaxUrl,type:"GET",data:{term:$j("#"+u.params.inputID).val()},success:function(t){u.data=t,u.timeout=!1,u.renderList()}}),"string"==typeof u.data){for(var t=u.data,e=0,a=(t=t.split(",")).length;e<a;e++)t[e]=t[e].replace(/\[|\]|"*/g,"");u.data=t}},u.timeoutData=function(){new Date-u.rtime<u.delta?setTimeout(u.timeoutData,u.delta):u.getAutocompleteData()},u.inputKeyUp=function(t){t.preventDefault();var e=document.getElementById(u.params.inputID).value,a=u.params.inputID,t=t.keyCode||t.charCode;13!=t&&27!=t&&37!=t&&38!=t&&39!=t&&40!=t&&0<e.length&&!/[-!$%^&*()_+|~=`\\#{}\[\]:";'<>?,.\/]/g.test(e)?(u.listCount=0,u.rtime=new Date,!1===u.timeout&&(u.timeout=!0,setTimeout(u.timeoutData(),u.delta))):27!=t&&""!=e||(document.getElementById("list"+a).innerHTML="")},u.buildElement=function(t,e){var a,n=document.createElement(t);for(a in e)n.setAttribute(a,e[a]);return n},u.renderList=function(){var t=u.params.inputID,t=document.getElementById("list"+t),e=u.data,a=0,n="";if(1<e.length||"object"==_typeof(e)){t.innerHTML=n;for(var o,i=0,r=e.length;i<r;i++)a<u.params.listRows&&(o=u.params.listTpl,n+=o="object"==_typeof(e[i])?(o=(o=(o=(o=o.replace(/\[\[itemVal\]\]/,e[i].name)).replace(/\[\[itemId\]\]/,e[i].id)).replace(/\[\[voteVal\]\]/,e[i].vote)).replace(/\[\[itemThumb\]\]/,e[i].thumb)).replace(/\[\[matchVal\]\]/,e[i].name+"|"+e[i].id):o.replace(/\[\[itemVal\]\]/,e[i]),a++);t.innerHTML+=n}else t.innerHTML=""}};
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var pornstarIds=[],psThumbs=[],Crowdsource=function(){function l(e,t,s){var n,r='<ul class="tagsHolder">';if("js-pornstarResults"==t)for(n=0;n<e.length;n++)r+='<li><img src="'+s[n]+'"><span>'+e[n]+'</span><button type="button" class="deleteTag"></button></li>';r+="</ul>";t=document.getElementById(t);t&&(t.innerHTML=r)}return{addSuggestionItems:function(e,t,s){var n=MG_Utils.closest(t,".crowdSuggestWrap"),r=t.innerText,a=MG_Utils.getData(t,"thumb"),t=MG_Utils.getData(t,"id");if(!isNaN(parseInt(t)))return-1!==e.indexOf(r)||void 0===r?(!n||(t=n.querySelector(".js-responseMessage"))&&(t.innerHTML='<p class="errorRed">'+VIDEO_SHOW.validationText.duptext+"</p>"),!1):(e.push(r),void 0!==a&&psThumbs.push(a),l(e,s,psThumbs),void(n&&(a=n.querySelector(".acList"),e=n.querySelector('button[type="submit"]'),s=n.querySelector(".crowdForm"),n=n.querySelector(".js-responseMessage"),a&&e&&s&&n&&(a.innerHTML="",e.disabled=!1,s.reset(),n.innerHtml=""))))},addSuggestionCustom:function(e,t,s){var n=MG_Utils.closest(t,".crowdSuggestWrap");if(parentList=!!n&&n.querySelector(".acList"),validationParent=!!n&&n.querySelector(".js-responseMessage"),nextSibling=!!t&&MG_Utils.nextElementSibling(t),value=!!nextSibling&&nextSibling.value,value=value&&value.replace(/[\<\>|\[\]|\{\}|\(\)|*|?|!|@|#|$|%|^|&|*|~|`|"|'|:|;]/gi,""),!(-1===e.indexOf(value)&&2<=value.length&&value.length<=20))return validationParent&&(value.length<2||20<value.length?(validationParent.innerHTML='<p class="errorRed">'+VIDEO_SHOW.validationText.notPornstarName+"</p>",nextSibling&&(nextSibling.value="")):-1!==e.indexOf(value)&&(validationParent.innerHTML='<p class="errorRed">'+VIDEO_SHOW.validationText.duptext+"</p>",nextSibling&&(nextSibling.value=""))),parentList&&(parentList.innerHTML=""),!1;e.push(value),psThumbs.push(VIDEO_SHOW.customPornstarThumb),l(e,s,psThumbs),parentList&&(parentList.innerHTML=""),n&&(s=n.querySelector('button[type="submit"]'),n=n.querySelector(".crowdForm"),s&&n&&(s.disabled=!1,n.reset())),validationParent&&(validationParent.innerHTML="")},submitSuggestion:function(n,r,a){var e,t=r.dataset,l=MG_Utils.closest(r,".crowdSuggestWrap");n.length?jQuery.ajax({url:t.submitUrl,type:"POST",data:{pornstars:n},dataType:"json",success:function(e){var t,s;n.length=0,psThumbs.length=0,l&&(t=l.querySelector(".crowdForm"),s=l.querySelector(".js-resultsCrowdTags"),t&&s&&(t.reset(),s.innerHTML="")),MG_Utils.hasClass(r,"js-pornstarSuggestion")&&(a&&a.closeModal(),(s=document.querySelector(".js-pornstarSuggestionSuccess"))&&MG_Utils.addClass(s,"display")),r.disabled=!0}}):!l||(e=l.querySelector(".js-responseMessage"))&&(e.innerHTML='<p class="errorRed">'+t.fail+"</p>")},removeSuggestionItems:function(e,t,s){MG_Utils.previousElementSibling(e)&&function(e,t,s){t=e.indexOf(t);s&&s.splice(t,1);-1!=t&&e.splice(t,1)}(t,MG_Utils.previousElementSibling(e).innerText,s),0===t.length&&(!(t=MG_Utils.closest(e,".crowdSuggestWrap"))||(n=t.querySelector('button[type="submit"]'))&&(n.disabled=!0));var n=MG_Utils.closest(e,".tagsHolder"),e=MG_Utils.closest(e,"li");n&&e&&n.removeChild(e)},voteMapping:function(a,l,i,o){a&&i&&Object.keys(a).map(function(e,t){var s=a[e].split("|"),n=e.split("."),r=!!o&&o.querySelector("div.existingWrap");MG_Utils.hasClass(i,"upVote")&&r&&l==parseInt(s[1])&&1==parseInt(s[0])&&n[0]==MG_Utils.getData(r,"vid")?(e=MG_Utils.nextElementSibling(i),MG_Utils.addClass(i,"triggerUp"),e&&(MG_Utils.addClass(e,"disableVote"),e.disabled=!0)):MG_Utils.hasClass(i,"downVote")&&r&&l==parseInt(s[1])&&0==parseInt(s[0])&&n[0]==MG_Utils.getData(r,"vid")&&(r=MG_Utils.previousElementSibling(i),MG_Utils.addClass(i,"triggerDown"),r&&(MG_Utils.addClass(r,"disableVote"),r.disabled=!0))})},handleUnrateUrl:function(e){return"/video/un"+(e&&e.split("/video/")[1])},disableOppositeRate:function(e){MG_Utils.hasClass(e,"disableVote")?MG_Utils.removeClass(e,"disableVote"):MG_Utils.addClass(e,"disableVote"),e.disabled?e.disabled=!1:e.disabled=!0},rateAjax:function(e,t,s){MG_Utils.ajaxCall({url:e,type:"POST",headers:"object"==("undefined"==typeof PlayerWidgetCommonMethods?"undefined":_typeof(PlayerWidgetCommonMethods))&&PlayerWidgetCommonMethods.hasVcServerPinged()?{"X-SVVT":"1"}:null,success:function(){MG_Utils.hasClass(t,s)?MG_Utils.removeClass(t,s):MG_Utils.addClass(t,s)}})}}}();MG_Utils.domReady(function(){var n,e,r,a=document.getElementById("pornstar-box"),t=document.querySelector(".add-pornstar-btn-2");"undefined"!=typeof pornstarSuggestion&&t&&(t.addEventListener("click",function(){ga("send","event","Watch Page","click","Add Pornstar")}),a.addEventListener("click",function(e){var t,s,n,r=MG_Utils.hasClass(e.target,"upVote")?e.target:e.target.parentElement&&MG_Utils.hasClass(e.target.parentElement,"upVote")?e.target.parentElement:null,a=MG_Utils.hasClass(e.target,"downVote")?e.target:e.target.parentElement&&MG_Utils.hasClass(e.target.parentElement,"downVote")?e.target.parentElement:null;null==r||r.disabled||(t=(n=MG_Utils.getData(r,"suggestpornstar-url"))&&Crowdsource.handleUnrateUrl(n),s=MG_Utils.hasClass(r,"triggerUp")?t:n,(e=MG_Utils.nextElementSibling(r))&&Crowdsource.disableOppositeRate(e),Crowdsource.rateAjax(s&&s,r,"triggerUp")),null==a||a.disabled||(t=(n=MG_Utils.getData(a,"suggestpornstar-url"))&&Crowdsource.handleUnrateUrl(n),s=MG_Utils.hasClass(a,"triggerDown")?t:n,(n=MG_Utils.previousElementSibling(a))&&Crowdsource.disableOppositeRate(n),Crowdsource.rateAjax(s&&s,a,"triggerDown"))}),(e=a.querySelectorAll(".js-buttonVotes"))&&[].forEach.call(e,function(e){var t=MG_Utils.getData(e,"pornstarid"),s=JSON.parse(getCookieAdvanced("videoPornstarRated"));Crowdsource.voteMapping(s,t,e,a)}),t=(n=document.getElementById("searchInputPornstar"))&&MG_Utils.getData(n,"autocomplete"),e=document.querySelector(".js-pornstarSuggestion"),r=e&&MG_Utils.getData(e,"submit-url"),e&&e.addEventListener("click",function(){var e=$j("#searchInputPornstar").tokenInput("get"),t=[];e&&[].forEach.call(e,function(e){t.push(e.name)});var s=document.getElementById("js-pornstarResults");$j.isEmptyObject(e[0])?s&&(s.innerHTML="You need to enter a pornstar",MG_Utils.addClass(s,"visible suggestError")):MG_Utils.ajaxCall({url:r,type:"POST",data:{"pornstars[]":t},dataType:"json",success:function(){s&&(s.innerHTML=VIDEO_SHOW.thankYouMessage,MG_Utils.addClass(s,"visible"),MG_Utils.removeClass(s,"suggestError")),n&&($j(n).tokenInput("clear"),n.blur()),$j(".token-input-dropdown").hide()}})}),n&&$j(n).tokenInput(t&&t,{queryParam:"term",hintText:"Type in a pornstar",minChars:3,tokenLimit:3,preventDuplicates:!0,resultsFormatter:function(e){return"<li><span style='color:#ababab;font-size:15px;'>+</span> "+e.name+"<span style='float:right;padding:5px;background:#181818;font-weight:bold;border-radius:4px;color:#fff;'>"+e.vote+"</span></li>"}}),(t=document.getElementById("token-input-searchInputPornstar"))&&t.setAttribute("placeholder",n&&n.getAttribute("placeholder")))});
var vueFlagModal={layout:function(){Vue.customElement("v-flag-modal",{props:{platform:{type:String,default:"pc"},flagFor:{type:String,default:"photo"},loggedin:{type:Number,default:0},translation:{type:String,required:!0},flagTypes:{type:String,required:!0},submitUrl:{type:String,required:!0},itemId:{type:String,required:!0}},data:function(){return{show:!1,picked:0,reason:"",readMore:!1,errorShow:!1,reasonShow:!1,submitSuccess:!1,submitting:!1,flags:{inappropriate:1,underage:2,copyright:3,other:4,spam:5,inflamatory:6,rights:7}}},methods:{close:function(e){!this.$refs.modal.contains(e.target)&&this.show&&this.closeModal()},open:function(){document.body.classList.add("isOpenMTubes"),this.show=!0},closeModal:function(){this.show=!1,this.picked=0,this.readMore=!1,this.reason="",this.errorShow=!1,this.reasonShow=!1,this.submitSuccess=!1,this.submitting=!1,document.body.classList.remove("isOpenMTubes")},onChangeType:function(e){var t;this.errorShow=!1,this.picked==this.flags.other||this.picked==this.flags.underage||this.picked==this.flags.inappropriate||this.picked==this.flags.spam||this.picked==this.flags.inflamatory?(this.reasonShow=!0,t=this,setTimeout(function(){t.$refs.formGroups.scrollTop=t.$refs.reason.scrollHeight,t.$refs.reason.focus()},100)):this.reasonShow=!1},onInput:function(){this.picked==this.flags.other&&(this.errorShow=!this.reason)},onSubmit:function(){if(this.picked){var t=this;if(this.picked!=this.flags.rights&&this.picked!=this.flags.copyright){if(this.reasonShow&&!this.reason)return this.errorShow=!0,void this.$refs.reason.focus();this.submitting=!0;var e={id:this.itemId,value:this.picked,reason:this.reason};MG_Utils.ajaxCall({url:this.submitUrl,type:"POST",dataType:"json",data:e,success:function(e){t.submitSuccess=!0,t.submitting=!1,"video"===t.flagFor&&t.$emit("flagged")},error:function(e){console.error(e)}})}else{e=this.types.filter(function(e){return e.key==t.picked})[0];window.open(e.next,"_blank")}}}},computed:{i18n:function(){return this.translation?JSON.parse(this.translation):{}},types:function(){return this.flagTypes?JSON.parse(this.flagTypes):[]}},mounted:function(){document.addEventListener("click",this.close)},beforeDestroy:function(){document.removeEventListener("click",this.close)},template:'<div class="fadeInMTubes containerMTubes flagItemContainer isVisibleMTubes" :class="{\'elOpenMTubes\': show}"><div class="modalMTubes flagItemContainer elOpenMTubes" ref="modal"><div class="contentMTubes submitSuccess" v-if="submitSuccess"><div class="modal-body"><div class="modal-title">{{i18n.successTitle}}</div><div class="modal-subtitle">{{i18n.successText}}</div><div class="modalActions"><button class="buttonBase orangeButton" @click="closeModal">{{i18n.successButton}}</button></div></div></div><div class="contentMTubes" v-else><div class="modal-title">{{i18n.title}}</div><div class="loggedinModal" v-if="loggedin"><div class="modal-subtitle">{{i18n.subtitle}}</div><form class="form-groups" :class="{\'scrollbar\':platform==\'pc\'&&(picked||readMore)}" ref="formGroups"><div class="form-group" v-for="type in types" :key="type.key"><label :for="\'flagType\' + type.key"><input :id="\'flagType\' + type.key" class="flagCheckBox" type="radio" name="flag_type" :value="type.key" v-model="picked" @change="onChangeType" /><span class="radio"></span><span class="flagname">{{type.value}}<v-tooltip position="bottom" :desc="type.tooltip"></v-tooltip></span></label><div class="popup" v-if="type.popup&&picked==type.key" v-html="type.popup"></div></div><div class="flagReason" v-if="reasonShow" :class="{\'hasError\': errorShow}"><p>{{i18n.reasonBox}}</p><textarea ref="reason" v-model.trim="reason" :placeholder="i18n.reason" class="js-taggableReason" @input="onInput" maxlength="500"></textarea><div class="errorMsg" v-if="errorShow">{{i18n.error}}</div></div><div class="description"><input type="checkbox" id="readMoreState" v-model="readMore" /><p v-html="i18n.desc"></p></div></form><div class="modalActions"><button class="buttonBase flagCancel" type="button" @click="closeModal"><span>{{i18n.btnCancel}}</span></button><button class="buttonBase orangeButton" type="button" @click="onSubmit" :disabled="!picked||submitting"><span v-if="picked==flags.rights||picked==flags.copyright">{{i18n.btnNext}}</span><span v-else>{{i18n.btnSubmit}}</span></button></div></div><div class="loggedOutInfoModal" v-else><p>{{i18n.loginto}}</p><p><a href="https://help.pornhub.com/hc/en-us/sections/360006831174-Reporting-Abuse-And-Violations" target="_blank" rel="noopener noreferrer">{{i18n.readAbout}}</a></p><a :href="i18n.loginUrl" class="orangeButton buttonBase loginRedirect">{{i18n.login}}</a></div></div><button class="closeMTubes buttonMTubes" @click="closeModal"></button></div></div>'})},tooltipComponent:function(){Vue.customElement("v-tooltip",{props:{desc:{type:String,required:!0},position:{type:String,default:"top"}},data:function(){return{show:!1}},methods:{onClick:function(e){e.target.getAttribute("href")||e.preventDefault(),e.stopPropagation()}},template:'<div :class="[\'tooltipWrapper\', position]" @mouseenter="show = true" @mouseleave="show = false"><span class="ttIcon"><i @click="onClick"></i></span><div class="tooltipContent" v-html="desc" v-if="show" @click="onClick"></div></div>'})},openFlagCommentModal:function(e){var t;"undefined"==typeof flagCommentModal&&"undefined"!=typeof FLAG_COMMENT_DATA&&(t=document.createElement("v-flag-comment-modal"),document.body.insertAdjacentElement("afterbegin",t),Vue.customElement("v-flag-comment-modal",{computed:{flagCommentData:function(){return FLAG_COMMENT_DATA},getSubmitBtnClass:function(){return"pc"===FLAG_COMMENT_DATA.platform?"orangeButton buttonBase":"orangeBtn buttonClass"}},methods:{getFlagTypeId:function(e){return"flagCommentType"+e}},mounted:function(){var e=document.getElementById("flagCommentModal");e&&(flagCommentModal=new MG_Modal({content:e,className:"flagItemContainer flagComment"}))},template:'<div id="flagCommentModal" :class="[{modalWrapper: (flagCommentData.platform==\'pc\')}, {displayNone: (flagCommentData.platform!=\'pc\')}]" class="modalWrapper"><div v-if="flagCommentData.platform!=\'pc\'" class="componetHeader"><h3>{{flagCommentData.title}}</h3></div><div class="profile-box-narrow"><div v-if="flagCommentData.platform==\'pc\'" class="modal-title">{{flagCommentData.title}}</div><form autocomplete="off" id="flagCommentItem" type="get"><div v-for="(value, key) in flagCommentData.flagCommentTypes" :data-key="key"><input :id="getFlagTypeId(key)" class="flagCheckBox" type="radio" name="flag_type" :value="key"/><label :for="getFlagTypeId(key)">{{value}}</label></div><div class="flagDetails"><button id="flagCommentSubmit" :class="getSubmitBtnClass" type="button"><span>{{flagCommentData.submit}}</span></button></div></form></div></div>'})),"undefined"!=typeof flagCommentModal&&(flagCommentModal.openModal(function(){var e=flagCommentModal.modal.querySelectorAll(".flagCheckBox");e.length&&(e[0].checked=!0)}),flagCommentModal.id=e)}};vueFlagModal.tooltipComponent(),vueFlagModal.layout();
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $urlPremiumTab,displaySort,playlistsByTitleAsc,playlistsByTitleDesc,playlistsByUpdated,flagCommentModal,VIDEO_SHOW=void 0!==VIDEO_SHOW?VIDEO_SHOW:{},varObj={dataPauseRoll:$j("#pb_template"),dataPlayList:$j("#js-playlistData"),dataMainContainer:$j("#main-container"),dataShare:$j("#js-shareData"),dataRelatedVideos:$j("#relatedVideosVPage"),dataTabs:$j("#js-tabData"),locked:void 0!==VIDEO_SHOW.locked&&VIDEO_SHOW.locked},tags="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",sanicode=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+tags+">[\\s\\S]*?</script\\s*|style\\b"+tags+">[\\s\\S]*?</style\\s*|/?[a-z]"+tags+")>","gi"),current_page=2,loadingThumbs=!1,$urlShortVersion="http://tour.pornhubpremium.com/relatedpremium/default/?layout=vertical1";function triggerShareClick(){$j(".js-triggerShare").trigger("click")}VIDEO_SHOW.loggedOut||(displaySort=function(e,t){$j("#custom-playlist-detailed li.custom").remove(),$j.each(e,function(e,t){$j("#custom-playlist-detailed").append("<li class='custom"+(t.saved||1==t.contains_current_video?" saved":"")+"'><span class='checkbox js-fakeCheckPlaylist'></span><a href='javascript:' _id='"+t.id+"' data-playlist-name='"+t.title+"' data-video-id='"+t.id+"' data-isfull='"+t.isFull+"' class='playlist-add-video-viewpage js-addToPlaylistAnchor' data-type='custom'><span class='playlist-name'>"+t.title+" <span>(<var id='watchLaterCount_"+t.id+"'>"+t.video_count+"</var>)</span></span><span class='updated-time'>"+t.date_updated+"</span><span class='status savedToPlaylistMessage'>saved to playlist</span><span class='status alreadyInPlaylistMessage'"+(1==t.contains_current_video?" style='display: block;'":"")+">Video is already in playlist</span><div class='clear'></div></a></li>")});var a=document.querySelector(".js-overlay");e.length<4&&a&&MG_Utils.addClass(a,"displayNone"),"Chrome"!==BrowserDetect.browser&&$j("#scrollbar_watch").slimScroll({height:"auto",color:"#F39000",size:"3px",alwaysVisible:!1,railVisible:!0,railOpacity:1,railColor:"#222",distance:0,opacity:1,railClass:"track3",barClass:"handle3"})},playlistsByTitleAsc=VIDEO_SHOW.byTitleAsc||[],playlistsByTitleDesc=VIDEO_SHOW.byTitleDesc||[],playlistsByUpdated=VIDEO_SHOW.byUpdated||[]);var $this,ad_segment_id,segment,iframe_url,ad_player_id,showDeleteFromCarousel,go,vkey,baseUrl,videosVkeys,playlistId,playlistTitle,playlistTags,removeVideoFromPlaylist,srcA,srcB,showMoreCheck=!1;function showMore(){$j(".showLess").slideToggle(),showMoreCheck=!1===showMoreCheck,$j(".show-more-btn").text()==VIDEO_SHOW.showmoreText?$j(".show-more-btn").text(VIDEO_SHOW.showlessText):$j(".show-more-btn").text(VIDEO_SHOW.showmoreText)}function getShareLink(){var e,t,a=varObj.dataShare.data("share-url"),o=document.getElementById("chkShareLinkStartTime");$j("#chkShareLinkStartTime").prop("checked")&&$j("#share-link-start-time").val()&&(-1==$j("#share-link-start-time").val().indexOf(":")?a=a+"&t="+parseInt($j("#share-link-start-time").val()):2==(e=$j("#share-link-start-time").val().split(":")).length&&(t=parseInt(e[0]),s=parseInt(e[1]),(s=parseInt(60*t+s))<=varObj.dataShare.data("duration")&&(a=a+"&t="+s)));var s=document.querySelector(".js-fakeCheck");s&&(o&&o.checked?MG_Utils.addClass(s,"active"):MG_Utils.removeClass(s,"active")),$j("#share-link").val(a)}function jumpToAction(e){MGP.players["playerDiv_"+ad_player_id].seek(e,!0)}function loadPremiumNoGoodBrowser(){$urlPremiumTab=$urlShortVersion}function showRelatedVids(){var e=$j("#relatedVideosVPage"),t=e.find("li"),a=$j("#player").height()+$j("#under-player").height()+$j("#under-player-comments").height()+$j("#under-player-playlists").height()+$j("#under-player-friends").height(),o=e.find("li").height(),e=8;(e=1==current_page?2*Math.floor((a-$j("#videoPageAds").height()-64)/o):2===current_page?10:10*current_page)<8?e=8:50<e&&(e=60,$j(".nav-videoRelated").hide()),t.hide().slice(0,e).css("display","inline-block")}function elementScroll(e){$j(window).scrollTop(e.offset().top).scrollLeft(e.offset().left)}function shareToStream(e){return $j.ajax({type:"POST",data:e,dataType:"json",url:VIDEO_SHOW.shareToStreamUrl})}head.ready(document,function(){var t,a,o,s=LocalStorageManager.getInstance();function i(e){return"/video/un"+(e&&e.split("/video/")[1])}function l(e,t){e.hasClass(t)?e.removeClass(t):e.addClass(t);e=e.siblings();e&&(e.hasClass("disableVote")?e.removeClass("disableVote").attr("disabled",!1):e.addClass("disableVote").attr("disabled",!0))}function n(e,t){e.hasClass("triggerUp")?e.removeClass("triggerUp").parent().css("color","#999"):e.addClass("triggerUp").parent().css("color","#f90");t=$j("#production-box button"+t);t&&(t.hasClass("disableVote")?t.removeClass("disableVote").attr("disabled",!1):t.addClass("disableVote").attr("disabled",!0))}$j(".showUpSell").on("click",function(e){e.preventDefault();e=$j(this).data("linkcode");triggerUpselllGatewayModal(e,phOrientationSegment)}),globalObjUtils.isMac&&globalObjUtils.isSafari&&isVr&&alert("This feature is not supported on your current browser!"),setTimeout(function(){$j("#placeHolderWrap").css("background-image",'url("'+VIDEO_SHOW.placeholder+'")')},500),-1<location.href.indexOf("select-share")&&setTimeout(function(){$j(".js-triggerShare").trigger("click"),$j("#share_email_text").text($j("#share_email_text").text().replace("#select-share","")),elementScroll($j("#js-shareData"))},250),VIDEO_SHOW.loggedOut||"function"==typeof playlistAppendAsc&&playlistAppendAsc(),$j("#suggestCatSubmit").on("click",function(){var e=$j("#suggestCatInput").tokenInput("get"),a=[];$j.each(e,function(e,t){a.push(t.id)}),$j.isEmptyObject(e[0])?$j("#suggestCatResult").html("You need to enter a category").css("color","red").hide().fadeIn():$j.ajax({url:VIDEO_SHOW.categorySuggestionUrl,type:"POST",data:{category_id:a},success:function(){$j("#suggestCatResult").html(VIDEO_SHOW.thankYouMessageCat).css("color","#65a611").hide().fadeIn(),$j("#suggestCatInput").tokenInput("clear"),$j("#suggestCatInput").blur(),$j(".token-input-dropdown").hide()}})}),$j("#suggestTagSubmit").on("click",function(){var e=$j("#suggestTagInput").tokenInput("get"),a=[];$j.each(e,function(e,t){a.push(t.name)}),$j.isEmptyObject(e[0])?$j("#suggestTagResult").html("You need to enter a tag").css("color","red").hide().fadeIn():$j.ajax({url:$j("#existingWrap").data("tag-url"),type:"POST",data:{tags:a},success:function(){$j("#suggestTagResult").html(VIDEO_SHOW.thankYouMessageTag).css("color","#65a611").hide().fadeIn(),$j("#suggestTagInput").tokenInput("clear"),$j("#suggestTagInput").blur(),$j(".token-input-dropdown").hide()}})}),$j("#category-box button.upVote").each(function(e,t){var a=$j(this),o=a.data("categoryid"),s=$j.parseJSON(getCookieAdvanced("videoCategoryRated"));s&&$j.map(s,function(e,t){e=e.split("|"),t=t.split(".");o==parseInt(e[1])&&1==parseInt(e[0])&&t[0]==$j("div.existingWrap").data("vid")&&(a.addClass("triggerUp"),a.siblings().addClass("disableVote").attr("disabled","disabled"))})}),$j("#category-box button.downVote").each(function(e,t){var a=$j(this),o=a.data("categoryid"),s=$j.parseJSON(getCookieAdvanced("videoCategoryRated"));s&&$j.map(s,function(e,t){e=e.split("|"),t=t.split(".");o==parseInt(e[1])&&0==parseInt(e[0])&&t[0]==$j("div.existingWrap").data("vid")&&(a.addClass("triggerDown"),a.siblings().addClass("disableVote").attr("disabled","disabled"))})}),$j("#category-box button.upVote").on("click",function(){var e=$j(this),t=e.data("suggestcategory-url"),a=t&&i(t),t=e.hasClass("triggerUp")?a:t;$j.ajax({type:"POST",url:t,beforeSend:function(e){"object"==("undefined"==typeof PlayerWidgetCommonMethods?"undefined":_typeof(PlayerWidgetCommonMethods))&&PlayerWidgetCommonMethods.hasVcServerPinged()&&e.setRequestHeader("X-SVVT","1")},success:l(e,"triggerUp")})}),$j("#category-box button.downVote").on("click",function(){var e=$j(this),t=e.data("suggestcategory-url"),a=t&&i(t),t=e.hasClass("triggerDown")?a:t;$j.ajax({type:"POST",url:t,beforeSend:function(e){"object"==("undefined"==typeof PlayerWidgetCommonMethods?"undefined":_typeof(PlayerWidgetCommonMethods))&&PlayerWidgetCommonMethods.hasVcServerPinged()&&e.setRequestHeader("X-SVVT","1")},success:l(e,"triggerDown")})}),$j("#production-box button#productionid").on("click",function(){var e=$j(this),t=e.data("production-url"),a=t&&i(t),t=e.hasClass("triggerUp")?a:t;$j.ajax({type:"POST",url:t,beforeSend:function(e){"object"==("undefined"==typeof PlayerWidgetCommonMethods?"undefined":_typeof(PlayerWidgetCommonMethods))&&PlayerWidgetCommonMethods.hasVcServerPinged()&&e.setRequestHeader("X-SVVT","1")},success:n(e,"#homeadeid")})}),$j("#production-box button#homeadeid").on("click",function(){var e=$j(this),t=e.data("production-url"),a=t&&i(t),t=e.hasClass("triggerUp")?a:t;$j.ajax({type:"POST",url:t,beforeSend:function(e){"object"==("undefined"==typeof PlayerWidgetCommonMethods?"undefined":_typeof(PlayerWidgetCommonMethods))&&PlayerWidgetCommonMethods.hasVcServerPinged()&&e.setRequestHeader("X-SVVT","1")},success:n(e,"#productionid")})}),$j("#production-box button.upVote").each(function(e,t){var a=$j(this),o=a.data("production-title"),s=$j.parseJSON(getCookieAdvanced("videoProductionRated"));s&&$j.map(s,function(e,t){e=e.split("|"),t=t.split(".");o==e[1]&&1==parseInt(e[0])&&t[0]==$j("#existWrap").data("vid")&&(a.addClass("triggerUp").parent().css("color","#f90"),a.parent().siblings().children().addClass("disableVote").attr("disabled","disabled"))})}),$j("#tag-box button.upVote").on("click",function(){var e=$j(this),t=e.data("suggesttag-url"),a=t&&i(t),t=e.hasClass("triggerUp")?a:t;$j.ajax({type:"POST",url:t,beforeSend:function(e){"object"==("undefined"==typeof PlayerWidgetCommonMethods?"undefined":_typeof(PlayerWidgetCommonMethods))&&PlayerWidgetCommonMethods.hasVcServerPinged()&&e.setRequestHeader("X-SVVT","1")},success:l(e,"triggerUp")})}),$j("#tag-box button.downVote").on("click",function(){var e=$j(this),t=e.data("suggesttag-url"),a=t&&i(t),t=e.hasClass("triggerDown")?a:t;$j.ajax({type:"POST",url:t,beforeSend:function(e){"object"==("undefined"==typeof PlayerWidgetCommonMethods?"undefined":_typeof(PlayerWidgetCommonMethods))&&PlayerWidgetCommonMethods.hasVcServerPinged()&&e.setRequestHeader("X-SVVT","1")},success:l(e,"triggerDown")})}),$j("#tag-box button.upVote").each(function(e,t){var a=$j(this),o=a.data("tagid"),s=$j.parseJSON(getCookieAdvanced("videoTagRated"));s&&$j.map(s,function(e,t){e=e.split("|"),t=t.split(".");o==parseInt(e[1])&&1==parseInt(e[0])&&t[0]==$j("#existWrap").data("vid")&&(a.addClass("triggerUp"),a.siblings().addClass("disableVote").attr("disabled","disabled"))})}),$j("#tag-box button.downVote").each(function(e,t){var a=$j(this),o=a.data("tagid"),s=$j.parseJSON(getCookieAdvanced("videoTagRated"));s&&$j.map(s,function(e,t){e=e.split("|"),t=t.split(".");o==parseInt(e[1])&&0==parseInt(e[0])&&t[0]==$j("#existWrap").data("vid")&&(a.addClass("triggerDown"),a.siblings().addClass("disableVote").attr("disabled","disabled"))})}),$j(document).on("click","#categoryLink",function(){ga("send","event","Watch Page","click","Suggest Categories")}),$j(document).on("click","#tagLink",function(){ga("send","event","Watch Page","click","Suggest Tags")}),$j("#suggestCatInput").tokenInput("/video/category_suggestion_list?vid="+$j("#existWrap").data("vid")+"&vkey="+$j("#existWrap").data("vkey")+"&segment="+$j("#existWrap").data("segment")+"&token="+$j("#existWrap").data("token"),{queryParam:"term",hintText:"Type in a category",minChars:3,tokenLimit:3,preventDuplicates:!0,resultsFormatter:function(e){return"<li><span style='color:#ababab;font-size:15px;'>+</span> "+e.name+"<span style='float:right;padding:5px;background:#181818;font-weight:bold;border-radius:4px;color:#fff;'>"+e.vote+"</span></li>"}}),$j("#token-input-suggestCatInput").attr("placeholder",$j("#suggestCatInput").attr("placeholder")),void 0!==VIDEO_SHOW&&void 0!==VIDEO_SHOW.tag_suggestion_url&&($j("#suggestTagInput").tokenInput(VIDEO_SHOW.tag_suggestion_url,{queryParam:"q",hintText:"Type in a Tag",minChars:3,tokenLimit:3,preventDuplicates:!0,resultsFormatter:function(e){var t=e.vote||0;return"<li><span style='color:#ababab;font-size:15px;'>+</span> "+$j("<div/>").text(e.name).html()+"<span style='float:right;padding:5px;background:#181818;font-weight:bold;border-radius:4px;color:#fff;'>"+t+"</span></li>"},onResult:function(e){var a=$j("#token-input-suggestTagInput").val(),o=!1;if($j.each(e,function(e,t){t.name.toLowerCase()==a.toLowerCase()&&(o=!0)}),!o){if(a.match(sanicode))return!1;e.unshift({id:0,name:a})}return e},onAdd:function(a){var o=$j("#suggestTagInput").tokenInput("get"),s=!1;$j.each(o,function(e,t){t.name.toLowerCase()==a.name.toLowerCase()&&(s&&(o.pop(),$j("#suggestTagInput").tokenInput("clear"),$j.each(o,function(e,t){$j("#suggestTagInput").tokenInput("add",{id:t.id,name:t.name})})),s=!0)})}}),$j("#token-input-suggestTagInput").attr("placeholder",$j("#suggestTagInput").attr("placeholder"))),$j(document).on("click",".suggestBtn, .CTAs",function(e){var t=$j(e.currentTarget).parent().parent().find(".suggest-mini-box"),a=$j("#ctaBox");$j(".suggest-mini-box").each(function(){var e=$j(this);e.attr("id")!==t.attr("id")?e.slideUp():e.slideToggle()}),0<$j(e.currentTarget).find("#ctaBox").length?a.parent().toggleClass("activeCTAs"):a.parent().removeClass("activeCTAs")}),$j(document).on("click",".favPlaylist",function(){VIDEO_SHOW.loggedOut?signinbox.show(textPHTranslation.loginTitlePlaylist):favoritePlaylist(WATCHPAGE_PLAYLISTS.playlistId,VIDEO_SHOW.token)}),$j(".actionTagSort").click(function(){var e=$j(this);$j(".sortBy").hide(),$j(".sortBy."+e.data("sort")).show(),$j("#tagSort").text(e.text())}),$j("body").on("click","#relatedVideosVPage li a",function(e){var t=$j(this).data("related-url");t&&(e.preventDefault(),$j.ajax({type:"GET",context:this,url:t,complete:function(){var e=$j(this).attr("href");window.location.assign(e)},success:function(e){}}))}),$j("body").on("click",".sendMailBtn",function(){var e=$j(".toEmail").val();return""!=e&&/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/.test(e)?$j(".toEmail").removeClass("modalInputError"):$j(".toEmail").addClass("modalInputError"),!1}),1==varObj.dataMainContainer.data("playlist-shuffle")&&$j("#shuffle").addClass("active"),"undefined"!=typeof WATCHPAGE_PLAYLISTS&&(t=0,WATCHPAGE_PLAYLISTS.playlistCheck&&(WATCHPAGE_PLAYLISTS.playlistGeoCheck||WATCHPAGE_PLAYLISTS.isPremium||!WATCHPAGE_PLAYLISTS.inFanClub||WATCHPAGE_PLAYLISTS.isPrivate)&&(a=3,o=setInterval(function(){var e=document.querySelector(".video-box-playlist");e&&""!==e.innerHTML&&playlist_countdown(a,e),t||a--,-1==a&&clearInterval(o)},1e3),$j(document).on("click",".removeAdLink, .modalBackground",function(){t=!t,a=3}))),VIDEO_SHOW.loggedOut||(dropdown.init(".sortPlaylist"),playlistsByUpdated&&displaySort(playlistsByUpdated),$j(".sortPlaylist li").on("click",function(){$j(".sortPlaylist .textFilter").html($j(this).text()),displaySort(window[$j(this).children("a").data("function")])})),$j("#popupBox").hide(),"Explorer"==BrowserDetect.browser&&BrowserDetect.version<9&&loadPremiumNoGoodBrowser();var e,r=varObj.dataRelatedVideos.data("related-count"),d=12;function c(e){VIDEO_SHOW.isPurchased?v(e):videoPurchaseFlow.triggerPurchaseFlow()}$j(".nav-videoRelated").click(function(){$j(this).blur();var a,e=$j("#relatedVideosVPage").find("li.hidden");return e.length?(a=10,e.length<18&&(a=e.length,$j(this).hide()),e.map(function(e,t){e<a&&((e=$j(t).find("img")).attr("src",e.data("thumb_url")),$j(t).removeClass("hidden").css("display","inline-block"))})):loadingThumbs||(loadingThumbs=!0,current_page++,$j.get(varObj.dataRelatedVideos.data("related-url"),{id:varObj.dataRelatedVideos.data("related-id"),page:current_page,num_per_page:10},function(e){if(e){$j("#relatedVideosVPage .videos-list").append(e),$j("#relatedVideosVPage .videos-list ul:nth-child("+current_page+") > li a.img").each(function(){$j(this).attr("data-title",$j(this).attr("title")).attr("title","")}),2==current_page&&$j(".videos-list").children("ul").eq(1).html($j(".videos-list").children("ul").eq(1).children().slice(2)),loadThumbs(),showRelatedVids();for(var t=$j(e).find(".tooltipTrig"),a=$j(e).find("#lrelateRecommendedItems .wrap"),o=0;o<t.length;++o)initTooltip(t[o],t[o].getAttribute("data-title")),MG_Utils.addEventHandler(t[o],"click",addToSubmenu);for(o=0;o<a.length;o++)MG_Utils.addEventHandler(a[o],"mouseenter",showOverlay),MG_Utils.addEventHandler(a[o],"mouseleave",hideOverlay);loadingThumbs=!1,r<=(d+=10)&&$j(".nav-videoRelated").hide()}else $j(".nav-videoRelated").hide()})),!1}),showRelatedVids(),1==varObj.dataMainContainer.data("playlist-check")&&(e=document.querySelector(".playlist-bar"),setTimeout(function(){e&&window.scrollTo(0,e.scrollHeight)},500)),1==WATCHPAGE_PLAYLISTS.deleteCheck&&$j(".shareTrig").on("click",addShareExternal),$j("[data-tab='downloadfree-tab']").not(".js-paidDownload, .js-videoGeoUnavailable, .js-purchaseButton").on("click",function(){(VIDEO_SHOW.saleVideo?c:v)(this)}),$j(".js-paidDownload").on("click",function(e){c(this)}),$j(".js-videoGeoUnavailable").on("click",function(e){e.stopImmediatePropagation(),$j(".tab-menu-item").removeClass("active"),$j(".video-action-tab").removeClass("active"),$j(".download-tab").addClass("active"),$j(".videoGeoUnavailableWrapper").toggleClass("hidden")});var u=document.querySelector(".video-actions-container");u&&u.addEventListener("click",function(e){var t,a;MG_Utils.hasClass(e.target,"js-closeActionTab")&&(t=e.target.parentElement,a=document.querySelector(".tab-menu-wrapper-cell.active"),e=document.querySelector(".tab-menu-item.active"),t&&e&&(MG_Utils.removeClass(t,"active"),MG_Utils.removeClass(e,"active")),a&&MG_Utils.removeClass(a,"active"))}),$j(".tab-menu-item:not(.moreCTAs)").on("click",function(){"download-tab"!=$j(this).data("tab")&&"downloadfree-tab"!==$j(this).data("tab")&&v(this)});var p=document.querySelector(".js-playlistSpan"),m=document.querySelector(".js-streamSpan"),g=document.querySelector(".js-sortPlaylist");function v(e){var t,a,o;$j(".tab-menu-item").removeClass("active"),$j(".tab-menu-wrapper-cell").removeClass("active"),$j(e).addClass("active"),$j(e).parent().addClass("active"),$j(".video-action-tab").removeClass("active"),$j(".video-action-tab."+$j(e).data("tab")).addClass("active"),"add-to-tab"==$j(e).data("tab")&&(t=document.querySelector(".js-share"),a=document.querySelector(".js-shareOutcome"),p&&MG_Utils.hasClass(p,"active")&&("Chrome"!==BrowserDetect.browser&&($j("#scrollbar_watch").slimScroll({height:"auto",color:"#F39000",size:"3px",alwaysVisible:!1,railVisible:!0,railOpacity:1,railColor:"#222",distance:0,opacity:1,railClass:"track3",barClass:"handle3"}),(o=document.querySelector("#scrollbar_watch"))&&MG_Utils.addClass(o,"blockPageScroll")),g&&MG_Utils.removeClass(g,"displayNone")),m&&MG_Utils.hasClass(m,"active")&&g&&MG_Utils.addClass(g,"displayNone"),t&&(MG_Utils.removeClass(t,"disabledShareBtn"),t.disabled=!1),a&&MG_Utils.removeClass(a,"active")),VIDEO_SHOW.isPremium&&"Download"==$j(e).find("span").html()&&"undefined"!=typeof mixpanel&&mixpanel.track("Download Video",videoEvent)}p&&p.addEventListener("click",function(){g&&MG_Utils.removeClass(g,"displayNone")}),m&&m.addEventListener("click",function(){g&&MG_Utils.addClass(g,"displayNone")});var h=document.querySelector(".js-downloadPremiumTabContent"),y=document.querySelector(".js-InitialFreeAccount"),f=document.querySelector(".js-confirmationInitialFreeAccount");h&&h.addEventListener("click",function(e){var t,a,o=e.target;o&&MG_Utils.hasClass(o,"dismissButton")&&(t=document.querySelector(".tab-menu-wrapper-cell.active"),a=document.querySelector(".tab-menu-item.active"),e.preventDefault(),MG_Utils.removeClass(h,"active"),t&&MG_Utils.removeClass(t,"active"),a&&MG_Utils.removeClass(a,"active"),f&&MG_Utils.addClass(f,"displayNone"),y&&MG_Utils.removeClass(y,"displayNone")),o&&MG_Utils.hasClass(o,"confirmationButton")&&VIDEO_SHOW.isCreditCardAllowed&&(f&&MG_Utils.removeClass(f,"displayNone"),y&&MG_Utils.addClass(y,"displayNone"),"undefined"!=typeof mixpanel&&mixpanel.track("Upgrade confirmation",videoEvent))}),$j(".tab-sub-menu-item").on("click",function(){$j(this).parent().find(".tab-sub-menu-item").removeClass("active"),$j(this).addClass("active"),$j(this).parents(".video-action-tab").find(".video-action-sub-tab").removeClass("active"),$j(this).parents(".video-action-tab").find(".video-action-sub-tab."+$j(this).data("tab")).addClass("active")}),1==function(e){for(var t=window.location.search.substring(1).split("&"),a=0,o=t.length;a<o;a++){var s=t[a].split("=");if(s[0]==e)return s[1]}return!1}("activated_download")?($j("#upgradeSuccessMessage").show(),$j("#downloadMessage").hide(),$j('.tab-menu-item[data-tab="download-tab"]').click()):($j("#upgradeSuccessMessage").hide(),$j("#downloadMessage").show()),$j(".downloadNowButton").on("click",function(){$j("#upgradeSuccessMessage").hide(),$j("#downloadMessage").show()}),$j(".email button").on("click",function(){var t=$j(".video-action-sub-tab.email");$j.ajax({url:varObj.dataTabs.data("url"),type:"POST",data:{emailTo:$j("#share_email_to").val(),message:$j("#share_email_text").text()},success:function(e){dataJson=e,"TRUE"==dataJson.success?(t.find(".form").fadeOut(),t.find(".successMessage").fadeIn()):(dataJson.message&&t.find(".errorMessage").html(dataJson.message),t.find(".errorMessage").fadeIn())},error:function(){t.find(".form").fadeOut(),t.find(".errorMessage").fadeIn()}})}),$j(".video-action-sub-tab.email textarea").text("Hi, check this out - "+varObj.dataShare.data("share-url"));u=varObj.dataTabs.data("default");$j(".video-action-sub-tab.embed textarea").html(u),$j(".video-action-sub-tab.embed .embedSizeFilter li").on("click",function(){var e=new Array;e["560x315"]=varObj.dataTabs.data("default"),e["640x360"]=varObj.dataTabs.data("small"),e["853x480"]=varObj.dataTabs.data("medium"),e["1200x720"]=varObj.dataTabs.data("large");var t=$j(this).data("size-x"),a=$j(this).data("size-y");null!=e[t+"x"+a]&&($j(this).parents(".dropdownTrigger").find(".textFilter").text($j(this).find("span").text()),$j(".video-action-sub-tab.embed textarea").text($j("<div/>").html(e[t+"x"+a]).text())),$j(".video-action-sub-tab.embed textarea").select()}),dropdown.init(".embedSizeFilter .filters"),getShareLink(),$j("#chkShareLinkStartTime, #share-link-start-time").on("change",function(){getShareLink()}),1!=$j("#relateRecommendedItems").data("recommended")||varObj.locked||((S=$j(".recommendedVideos")).find(".thumbnail-info-wrapper").append('<div class="recommendedFor">Recommended for you</div>'),S.find(".views").remove(),S.find(".rating-container").remove()),$j("body").on("click","#flagCommentSubmit",function(e){e.preventDefault();var t=$j(this),e=t.parents("form").attr("type");t.attr("disabled",!0),$j.ajax({type:e,url:WIDGET_COMMENTS.flagUrl,data:{id:flagCommentModal.id,type:"Video",report_type:$j("#flagCommentItem").find('input[name="flag_type"]:checked').val(),token:WIDGET_COMMENTS.token},success:function(e){var t,a;flagCommentModal.closeModal(),e.hasOwnProperty("isSpam")&&!1!==e.isSpam&&(t=document.querySelector(".commentTag"+flagCommentModal.id),a=document.querySelector(".childrenOf"+flagCommentModal.id),t&&MG_Utils.addClass(t,"displayNone"),a&&MG_Utils.addClass(a,"displayNone"),s&&s.push("commentsReported",e),setTimeout(function(){var e=infoModalContent("",VIDEO_SHOW.thankYouInputMessage,VIDEO_SHOW.commentFlaggedMessage,"");e&&(infoModalHolder=new MG_Modal({content:e,className:"infoModalContainer"}),infoModalHolder.openModal())},500))},error:function(){t.attr("disabled",!1)}})}),$j("[id^='token-input-']").unbind("blur").click(function(e){e.stopPropagation()}),$j(document).click(function(){$j(".token-input-dropdown").hide()}),$j(".js-portalName").click(function(){"undefined"!=typeof pornportalMessage&&pornportalMessage.push(["dropDownOpen",null,$j(this).data("portal-name")])||document.location.assign(VIDEO_SHOW.noPortalURL)});var j=null;$j("#video_flag").on("click",function(e){e.preventDefault(),j?setTimeout(j.open,0):(e=document.querySelector("v-flag-Modal"))&&(document.body.appendChild(e),(j=e.getVueInstance())&&setTimeout(j.open,100),e.addEventListener("flagged",function(e){$j("#video_flag").hide()}))});document.querySelector("#cmtContent");document.addEventListener("click",function(e){var t=e.target;return MG_Utils.hasClass(t,"commentBtn")&&MG_Utils.hasClass(t,"flag")&&(e.preventDefault(),"undefined"!=typeof vueFlagModal&&vueFlagModal.openFlagCommentModal(t.dataset.id)),!1},!1);var b=document.querySelector(".js-pornstarSuggestionSuccess"),S=document.querySelector(".js-closeResponse");S&&b&&S.addEventListener("click",function(){MG_Utils.removeClass(b,"display")});S=document.querySelector(".js-copy");S&&S.addEventListener("click",function(){var e=document.querySelector("#share-link");e&&(e.focus(),e.select(),document.execCommand("Copy"))});var C=document.querySelector("#scrollbar_watch"),_=document.querySelector(".js-overlay");C&&_&&MG_Utils.addEventHandler(C,"scroll",function(e){e.stopPropagation(),e.preventDefault(),MG_Utils.removeClass(_,"displayNone"),C.scrollTop>=C.scrollHeight-C.offsetHeight-2&&MG_Utils.addClass(_,"displayNone")})}),1==varObj.dataPlayList.data("playlist-status")&&1==varObj.dataPlayList.data("already-favourite")&&($this=$j(".favPlaylist")).addClass("favorited"),1!=varObj.dataPauseRoll.data("pause-roll")&&1!=varObj.dataPauseRoll.data("post-roll")||(ad_segment_id=varObj.dataPauseRoll.data("segment"),iframe_url=VIDEO_SHOW.trafficJunkyurl+"&zone_id="+(segment="straight"==ad_segment_id?30781:30791)+"&pid=8253a193-4fe9-45e3-909a-76b10a07659a&vs=1.0.2",ad_player_id=varObj.dataPauseRoll.data("unique-id")),currentVkey=VIDEO_SHOW.vkey,vKeyAddVideo=VIDEO_SHOW.video_id,showDeleteFromCarousel=1==varObj.dataMainContainer.data("playlist-user-check")||1==varObj.dataMainContainer.data("playlist-id-check")?"showClose":"",1==varObj.dataMainContainer.data("playlist-video-check")&&(go=function(e,t){var a=document.querySelector(".video-box-playlist li a[data-id=videoId-"+e+"]"),e=!!(a&&a.getAttribute("onclick")&&a.getAttribute("data-entrycode"));a&&e?a.click():t&&(window.location=t)},vkey=VIDEO_SHOW.vkey.toString(),baseUrl=varObj.dataMainContainer.data("base-url"),videosVkeys=varObj.dataMainContainer.data("playlist-keys"),removeVideoFromPlaylist=1==varObj.dataPlayList.data("playlist-status")?(playlistId=escapeHtml(varObj.dataMainContainer.data("playlist-id")),playlistTitle=varObj.dataMainContainer.data("playlist-title"),playlistTags=varObj.dataMainContainer.data("playlist-tags"),!0):varObj.dataMainContainer.data("pkey").match("watchlater")||varObj.dataMainContainer.data("pkey").match("lovers")?(playlistId=escapeHtml(varObj.dataMainContainer.data("playlist-id")),playlistTitle=varObj.dataMainContainer.data("playlist-title"),!(playlistTags="")):varObj.dataMainContainer.data("pkey").match("sys:")?(playlistId=escapeHtml(varObj.dataMainContainer.data("playlist-id")),playlistTitle=varObj.dataMainContainer.data("playlist-title"),playlistTags="",!1):!(playlistTags=playlistTitle=playlistId=""),getCookieAdvanced("playlistShuffle_"+playlistId)?(originalShuffleStatus=1,$j("#shuffle").addClass("active")):originalShuffleStatus=0),$j(".notifClose").on("click",function(){$j(this).closest(".notifContainer").addClass("displayNone")}),-1!=document.referrer.indexOf("/video?c=73")&&(srcA=$j("#videoPageAds .TJVideo1A").attr("src")+"[EOL]",srcB=$j("#videoPageAds .TJVideo1B").attr("src")+"[EOL]",-1!=srcA.indexOf("zone_id=6[EOL]")&&$j("#videoPageAds .TJVideo1A").attr("src",srcA.replace("zone_id=6[EOL]","zone_id=9522")),-1!=srcB.indexOf("zone_id=7[EOL]")&&$j("#videoPageAds .TJVideo1B").attr("src",srcB.replace("zone_id=7[EOL]","zone_id=9523"))),$j(".suggestTranslationInput").blur(function(){var t=$j(this);$j("#titleErrorGif").hide(),"function"==typeof validateBannedWords&&validateBannedWords(t.val(),!1,function(e){e&&(alert(VIDEO_SHOW.bannedPhrase),t.val(""))})}),$j("#shareToStream").submit(function(e){e.preventDefault(),shareToStream($j(this).serialize()).done(function(e){e.status})}),function(){var o=document.getElementById("aprilFoolsModal");o&&MG_Utils.storage.hasLocalStorage&&!localStorage.getItem("aprilFoolsModal")&&((o=new MG_Modal({content:o,closeButton:!1,className:"aprilFoolsContainer",closeDocument:!1})).openModal(function(){localStorage.setItem("aprilFoolsModal",!0)}),MG_Utils.addEventHandler(document,"click",function(e){var t,a;MG_Utils.hasClass(MG_Utils.getEventTarget(e),"js-exitModal")||MG_Utils.hasClass(MG_Utils.getEventTarget(e),"js-foolsTargetClose")?o.closeModal():(MG_Utils.hasClass(MG_Utils.getEventTarget(e),"js-foolsButton")||MG_Utils.hasClass(MG_Utils.getEventTarget(e),"containerMTubes"))&&(a=(t=document.getElementById("modalWrapMTubes")).querySelector(".foolsBottomModal"),e=t.querySelector(".foolsTopModal"),MG_Utils.addClass(t,"js-foolsTargetClose"),MG_Utils.removeClass(a,"displayNone"),MG_Utils.addClass(e,"displayNone"))}))}(),function(){var t,a;VIDEO_SHOW.isQrCode&&(new QRCode(document.getElementById("qrCode"),{width:130,height:130,correctLevel:0}).makeCode(VIDEO_SHOW.qrCode),t=document.querySelector(".qrOverlayBlock"),a=document.querySelector(".qrOverlayContent"),document.querySelector(".syncToyButton").addEventListener("click",function(){MGP.players[VIDEO_SHOW.videoId].isPlaying()&&MGP.players[VIDEO_SHOW.videoId].pause();MG_Utils.addClass(t,"qrShow"),MG_Utils.addClass(a,"qrShow"),VIDEO_SHOW.feelIsUserConnected||(MG_Utils.ajaxCall({url:VIDEO_SHOW.feelCacheUrl,type:"POST"}),$feel.init(feelSubToken,feelAppsToken,feelsAppsUserId),$feel.subs.load(VIDEO_SHOW.trackVideoId,0,feelsAppsUserId).then(function(){VIDEO_SHOW.feelIsUserConnected=!0}).catch(function(e){console.log("Error loading subtitles: ",e)}))}),a.addEventListener("click",function(e){MG_Utils.hasClass(e.target,"js-qrClose")&&(MG_Utils.removeClass(t,"qrShow"),MG_Utils.removeClass(a,"qrShow"))}))}(),VIDEO_SHOW.loggedOut&&CollectRecommended.set(VIDEO_SHOW.trackVideoId),MG_Utils.domReady(function(){var e,t,a,o=document.querySelector(".js-pornstarsWrapper"),o=o&&o.querySelectorAll(".lazy");o&&[].forEach.call(o,function(){(new LazyLoadImage).init(page_params.lazyLoad)}),document.querySelector(".js-videoOverlayContent")&&(e=function(){MG_Utils.removeClass(a,"active"),setTimeout(function(){MG_Utils.removeClass(t,"hideBtn")},410)},o=document.querySelector(".js-videoOverlayContent"),t=o.querySelector(".videoOverlayBtn"),g=o.querySelector(".closeOverlay"),a=o.querySelector(".videoOverlay"),setTimeout(function(){e()},2e3),MG_Utils.addEventHandler(t,"click",function(){MG_Utils.addClass(a,"active"),MG_Utils.addClass(this,"hideBtn")}),MG_Utils.addEventHandler(g,"click",function(){e()}));var s,i,l,n,r,d,c=document.querySelectorAll(".js-subItem"),u=document.querySelector(".js-streamSpan"),p=document.querySelector(".js-stream-tab"),m=[document.querySelector(".js-playlist-tab"),p],g=document.querySelector(".js-cancelBtn"),v=document.querySelector(".js-shareOutcome"),h=document.querySelector(".js-shareOutcome span");function y(e,t,a){e.style.color=t,e.innerText=a}function f(e,t,a){"add"===e?MG_Utils.hasClass(t,a)||MG_Utils.addClass(t,a):MG_Utils.hasClass(t,a)&&MG_Utils.removeClass(t,a)}c&&[].forEach.call(c,function(t){MG_Utils.addEventHandler(t,"click",function(e){[].forEach.call(c,function(e){MG_Utils.removeClass(e,"active")}),[].forEach.call(m,function(e){MG_Utils.removeClass(e,"active")});e=document.querySelector(".js-"+e.target.dataset.tab);e&&(MG_Utils.addClass(e,"active"),MG_Utils.addClass(t,"active"))})}),g&&MG_Utils.addEventHandler(g,"click",function(){p&&u&&(MG_Utils.removeClass(p,"active"),MG_Utils.removeClass(u,"active")),v&&f("remove",v,"active")}),document.querySelector(".js-share")&&(r=document.querySelector(".js-share"),s=document.querySelector(".js-submitToStream"),MG_Utils.addEventHandler(r,"click",function(){var t=document.querySelector(".js-share");MG_Utils.addClass(t,"disabledShareBtn"),t.disabled=!0,$j.ajax({url:VIDEO_SHOW.shareToStreamUrl,data:{profile:VIDEO_SHOW.trackUserId,table:"stream_posts_videos",attachment:VIDEO_SHOW.trackVideoId,caption:s.value,token:VIDEO_SHOW.token},type:"POST",success:function(e){v&&f("add",v,"active"),e&&e.status&&"pass"===e.status.toLowerCase()?(s.value="",h&&y(h,"#339503",VIDEO_SHOW.streamSubmit.successText)):(h&&y(h,"#e53b1a",VIDEO_SHOW.streamSubmit.errorText),MG_Utils.addClass(v,"errorMessage"),MG_Utils.removeClass(t,"disabledShareBtn"),t.disabled=!1)}})})),document.querySelector(".js-volumeControls")&&(i=document.querySelector("#js-player video"),j=document.querySelector(".js-volumeControls"),l=j.querySelector(".videoVolumeText"),n=j.querySelector(".videoVolumeIcon"),r=i&&i.canPlayType&&""==i.canPlayType('video/webm; codecs="vp8, vorbis"'),MG_Utils.addEventHandler(j,"click",function(){var e;MG_Utils.toggleClass(n,"videoMute"),(e=i).muted?(e.muted=!1,l.innerHTML=VIDEO_SHOW.muteVideo):(e.muted=!0,l.innerHTML=VIDEO_SHOW.unmuteVideo)}),(r&&j||!((d=i).mozHasAudio||Boolean(d.webkitAudioDecodedByteCount)||Boolean(d.audioTracks&&d.audioTracks.length)||!j||MG_Utils.hasClass(i,"mp4Video")))&&(j.style.display="none"));var j=document.querySelector(".logoLocked");j&&MG_Utils.addEventHandler(j,"click",function(e){"img"===e.target.tagName.toLowerCase()&&triggerGatewayModal(event,void 0,VIDEO_SHOW.vkey)});j=document.querySelector("#js-shareData .tab-menu-wrapper-row"),j=j?j.querySelectorAll(".tab-menu-wrapper-cell"):"";j&&j.length<=2&&[].forEach.call(j,function(e,t){"string"!=typeof e.style.grid&&(e.style.display="inline-block",e.style.width="25%")}),VIDEO_SHOW.loggedOut&&(M=PH_Storage.getItem("watchedVideoStorage")?PH_Storage.getItem("watchedVideoStorage"):[],VIDEO_SHOW.trackVideoId&&-1==M.indexOf(VIDEO_SHOW.trackVideoId)&&(M.push(VIDEO_SHOW.trackVideoId),PH_Storage.saveItem("watchedVideoStorage",M)));var b=document.querySelector(".fanclub-info-pop");b&&(null==getCookieAdvanced("fanClubInfoPop")&&setTimeout(function(){MG_Utils.addClass(b,"active")},5e3),MG_Utils.addEventHandler(b.querySelector(".fanclub-info-btn"),"click",function(){MG_Utils.removeClass(b,"active"),MG_Utils.setCookie("fanClubInfoPop",1,"/",14)})),document.cookie="dynamicPremiumSection=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";var S=document.getElementById("loadMoreRelatedVideosCenter"),C=document.querySelector(".more_recommended_btn"),_=document.querySelector(".js-relatedRecommended"),$=document.getElementById("recommendedVideos"),O=document.getElementById("relatedVideosCenter");S&&S.addEventListener("click",function(){var e;_&&(e=document.documentElement.scrollTop,MG_Utils.hasClass(_,"allRelatedVideos")?(MG_Utils.removeClass(_,"allRelatedVideos"),O&&O.scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}),S.innerText=VIDEO_SHOW.showMoreRelated):(MG_Utils.addClass(_,"allRelatedVideos"),document.documentElement.scrollTop=e,S.innerText=VIDEO_SHOW.showLessRelated))}),C&&$&&C.addEventListener("click",function(e){e.preventDefault(),MG_Utils.hasClass($,"allRecommendedVideos")?(MG_Utils.removeClass($,"allRecommendedVideos"),C.innerText=VIDEO_SHOW.showMoreRecommended):(MG_Utils.addClass($,"allRecommendedVideos"),C.innerText=VIDEO_SHOW.showLessRecommended)}),"object"===("undefined"==typeof SEARCH_ENGINE_DATA?"undefined":_typeof(SEARCH_ENGINE_DATA))&&0!==Object.keys(SEARCH_ENGINE_DATA).length&&document.addEventListener("click",function(e){var t,a,o,s=e.target;(s&&MG_Utils.hasClass(s,"js-linkVideoThumb")||s.parentNode&&MG_Utils.hasClass(s.parentNode,"title"))&&(t=MG_Utils.closest(s,".videoblock"),a=MG_Utils.closest(s,".videos"),t=t&&MG_Utils.getData(t,"video-vkey"),a=a&&a.id,t&&(e.preventDefault(),"relatedVideosCenter"==a?o=SEARCH_ENGINE_DATA.recommendedVideos.replace("<Section>",2):"recommendedVideos"==a&&(o=SEARCH_ENGINE_DATA.recommendedVideos.replace("<Section>",1)),Etahub.setCookie(t,o),window.location.href=s.href))});var M,j=Etahub.getCookie(VIDEO_SHOW.vkey);j&&(k=Etahub.translate(j),M=(new Date).getTime(),j=SEARCH_ENGINE_DATA.searchEngineUrl,k=Object.assign({app_id:SEARCH_ENGINE_DATA.appId,eventName:"pageLoad",videoId:VIDEO_SHOW.video_id,videoTitle:VIDEO_SHOW.videoTitle,date:M},k),MG_Utils.ajaxGet({url:j,data:k}));var k=document.querySelector(".userRow"),k=k&&k.querySelector(".usernameBadgesWrapper"),k=k&&k.querySelectorAll(".userBadges");k&&[].forEach.call(k,function(e){MG_Utils.addClass(e,"tooltipTrig")})});